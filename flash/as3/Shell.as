package {	import flash.display.*;	import flash.events.Event;	import flash.display.Stage;		import flash.display.StageAlign;	import flash.display.StageScaleMode;	import flash.net.URLRequest;	import flash.text.TextField;		public class Shell extends MovieClip{		private var bg_header_spr:MovieClip;		private var smg_spr:Sprite;		private var bg_v_spr:Sprite;		private var bg_grey_spr:Sprite;		private var footer_spr:Sprite;		private var coverflow_mc:Loader;				public function Shell(){			if (stage) 				initUI();			else 				addEventListener(Event.ADDED_TO_STAGE, initUI);		}		private function initUI(){			trace('initUI');			removeEventListener(Event.ADDED_TO_STAGE, init);						stage.scaleMode = StageScaleMode.NO_SCALE;			stage.align = StageAlign.TOP_LEFT;			stage.addEventListener(Event.RESIZE, setPositions)						bg_header_spr = new Header();			smg_spr = new Smg_logo();			bg_v_spr = new Bg_v();			bg_grey_spr = new Bg_grey();			footer_spr = new Footer();						addChild(bg_grey_spr);			addChild(bg_v_spr);			addChild(bg_header_spr);			addChild(smg_spr);						coverflow_mc = new Loader();			/*coverflow_mc.contentLoaderInfo.addEventListener(Event.COMPLETE, completeHandler);*/			coverflow_mc.contentLoaderInfo.addEventListener(Event.INIT, initHandler);			//coverflow_mc.load(new URLRequest('flash/flowList/flowlist.swf'+(root.loaderInfo.parameters['myActiveItem'] ? '?myActiveItem='+root.loaderInfo.parameters['myActiveItem'] : '')));			addChild(coverflow_mc);			addChild(footer_spr);						setPositions();		}				/*private function completeHandler(e:Event){}*/				private function initHandler(e:Event){			coverflow_mc.contentLoaderInfo.removeEventListener(Event.INIT, initHandler);						TextField(coverflow_mc.contentLoaderInfo.content["txtNext"]).visible = false;			TextField(coverflow_mc.contentLoaderInfo.content["txtPrevious"]).visible = false;			TextField(coverflow_mc.contentLoaderInfo.content["txtDescr"]).visible = false;			SimpleButton(coverflow_mc.contentLoaderInfo.content["btPrevious"]).visible = false;			SimpleButton(coverflow_mc.contentLoaderInfo.content["btNext"]).visible = false;			setPositions();		}				private function setPositions(e:Event=null){			bg_header_spr.x = (stage.stageWidth - bg_header_spr.width)/2;			bg_header_spr.y = 0;			smg_spr.y = 2;			smg_spr.x = bg_header_spr.x + bg_header_spr.width + ((stage.stageWidth - bg_header_spr.width)/2 - smg_spr.width)/2;			bg_v_spr.x = (stage.stageWidth - bg_v_spr.width)/2;			bg_v_spr.height = stage.stageHeight;			bg_v_spr.y = 0;			bg_grey_spr.width = stage.stageWidth;			bg_grey_spr.height = stage.stageHeight;			bg_grey_spr.x = bg_grey_spr.y = 0;			footer_spr.x = stage.stageWidth/2;			footer_spr.y = stage.stageHeight - 20;			if (coverflow_mc.contentLoaderInfo.content != null) {				coverflow_mc.x = stage.stageWidth/2-Number(coverflow_mc.contentLoaderInfo.content["myFlow"]["width"])/2;;				var ch:Number = Number(coverflow_mc.contentLoaderInfo.content["myFlow"]["height"]);				/*trace(stage.stageHeight-bg_header_spr.height-footer_spr.height);				trace(ch);*/				coverflow_mc.y = bg_header_spr.height + (stage.stageHeight-bg_header_spr.height-footer_spr.height-ch)/2 - 30;			}		}	}}